{"ast":null,"code":"import tokenService from\"./tokenService\";var BASE_URL='/api/posts';export function create(post){return fetch(BASE_URL,{method:'POST',body:post,headers:{'Authorization':'Bearer '+tokenService.getToken()}}).then(function(res){if(res.ok)return res.json();throw new Error('CREATE ERROR: Check your server terminal for error.');});}export function deletePost(postId){return fetch(\"\".concat(BASE_URL,\"/\").concat(postId),{method:'DELETE',headers:{'Authorization':\"Bearer \"+tokenService.getToken()}}).then(function(res){if(res.ok)return res.json();throw new Error(res.error);});}export function getAll(){return fetch(BASE_URL,{headers:{'Authorization':'Bearer '+tokenService.getToken()}}).then(function(res){if(res.ok)return res.json();return res.json().then(function(response){console.log(response);throw new Error(response.err);});});}","map":{"version":3,"names":["tokenService","BASE_URL","create","post","fetch","method","body","headers","getToken","then","res","ok","json","Error","deletePost","postId","error","getAll","response","console","log","err"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/utils/postApi.js"],"sourcesContent":["import tokenService from \"./tokenService\";\n\nconst BASE_URL = '/api/posts';\n\nexport function create(post) {\n    return fetch(BASE_URL, {\n        method: 'POST',\n        body: post,\n        headers: {\n            'Authorization': 'Bearer ' + tokenService.getToken()\n        }\n    }).then( res => {\n        if(res.ok) return res.json()\n\n        throw new Error('CREATE ERROR: Check your server terminal for error.')\n    }) \n}\n\nexport function deletePost(postId) {\n    return fetch(`${BASE_URL}/${postId}`, {\n        method: 'DELETE',\n        headers: {\n        'Authorization': \"Bearer \" + tokenService.getToken(), \n        }\n    }).then(res => {\n        if (res.ok) return res.json();\n        throw new Error(res.error);\n    });\n}\n\n\nexport function getAll() {\n    return fetch(BASE_URL, {\n        headers: {\n        'Authorization': 'Bearer ' + tokenService.getToken() \n        }\n    })\n    .then((res) => {\n        if(res.ok) return res.json();\n\n        return res.json().then(response => {\n        console.log(response)\n        throw new Error(response.err)\n        })\n    });\n}"],"mappings":"AAAA,MAAOA,aAAP,KAAyB,gBAAzB,CAEA,GAAMC,SAAQ,CAAG,YAAjB,CAEA,MAAO,SAASC,OAAT,CAAgBC,IAAhB,CAAsB,CACzB,MAAOC,MAAK,CAACH,QAAD,CAAW,CACnBI,MAAM,CAAE,MADW,CAEnBC,IAAI,CAAEH,IAFa,CAGnBI,OAAO,CAAE,CACL,gBAAiB,UAAYP,YAAY,CAACQ,QAAb,EADxB,CAHU,CAAX,CAAL,CAMJC,IANI,CAME,SAAAC,GAAG,CAAI,CACZ,GAAGA,GAAG,CAACC,EAAP,CAAW,MAAOD,IAAG,CAACE,IAAJ,EAAP,CAEX,KAAM,IAAIC,MAAJ,CAAU,qDAAV,CAAN,CACH,CAVM,CAAP,CAWH,CAED,MAAO,SAASC,WAAT,CAAoBC,MAApB,CAA4B,CAC/B,MAAOX,MAAK,WAAIH,QAAJ,aAAgBc,MAAhB,EAA0B,CAClCV,MAAM,CAAE,QAD0B,CAElCE,OAAO,CAAE,CACT,gBAAiB,UAAYP,YAAY,CAACQ,QAAb,EADpB,CAFyB,CAA1B,CAAL,CAKJC,IALI,CAKC,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,EAAR,CAAY,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACZ,KAAM,IAAIC,MAAJ,CAAUH,GAAG,CAACM,KAAd,CAAN,CACH,CARM,CAAP,CASH,CAGD,MAAO,SAASC,OAAT,EAAkB,CACrB,MAAOb,MAAK,CAACH,QAAD,CAAW,CACnBM,OAAO,CAAE,CACT,gBAAiB,UAAYP,YAAY,CAACQ,QAAb,EADpB,CADU,CAAX,CAAL,CAKNC,IALM,CAKD,SAACC,GAAD,CAAS,CACX,GAAGA,GAAG,CAACC,EAAP,CAAW,MAAOD,IAAG,CAACE,IAAJ,EAAP,CAEX,MAAOF,IAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAAAS,QAAQ,CAAI,CACnCC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,KAAM,IAAIL,MAAJ,CAAUK,QAAQ,CAACG,GAAnB,CAAN,CACC,CAHM,CAAP,CAIH,CAZM,CAAP,CAaH"},"metadata":{},"sourceType":"module"}