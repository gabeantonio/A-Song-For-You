{"ast":null,"code":"var _jsxFileName = \"/Users/gabrieldeleon/code/GA-Project-4/src/components/Search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { TextInput, Button, SimpleGrid, Image } from '@mantine/core';\nimport { useNavigate } from \"react-router-dom\";\nimport Header from './Header';\nimport * as geniusAPI from '../utils/geniusApi';\nimport { IconExternalLink } from '@tabler/icons';\nimport userService from '../utils/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddPlaylist(_ref) {\n  _s();\n\n  let {\n    handleAddPost\n  } = _ref;\n  const navigate = useNavigate();\n  const [state, setState] = useState({\n    songName: ''\n  });\n  const [title, setTitle] = useState('');\n  const [songUrl, setSongUrl] = useState('');\n  const [lyricsUrl, setLyricsUrl] = useState('');\n  const [user, setUser] = useState(userService.getUser());\n  const geniusUrl = `${lyricsUrl}`;\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const response = await geniusAPI.getSong(state.songName);\n    console.log(response.data, '<--- RESPONSE DATA');\n    setTitle(response.data.fullTitle);\n    setSongUrl(response.data.songImage);\n    setLyricsUrl(response.data.lyricsUrl);\n  }\n\n  function handleChange(e) {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleLogout() {\n    userService.logout();\n    setUser(null);\n    navigate('/login');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n      col: 3,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        logout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '5% 40% 0 40%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          autoComplete: \"off\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextInput, {\n            style: {\n              maxWidth: 350\n            },\n            label: \"Search Song\",\n            className: \"form-one\",\n            name: \"songName\",\n            value: state.songName,\n            onChange: handleChange,\n            required: true,\n            withAsterisk: true,\n            placeholder: \"Song Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"button\",\n              onClick: handleSubmit,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: 600\n          },\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            radius: \"md\",\n            src: songUrl,\n            caption: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            component: \"a\",\n            href: geniusUrl,\n            variant: \"outline\",\n            leftIcon: /*#__PURE__*/_jsxDEV(IconExternalLink, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 80\n            }, this),\n            children: \"Lyrics on Genius\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(AddPlaylist, \"ubW6B46X84UYx+38af4MDY1bveA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddPlaylist;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPlaylist\");","map":{"version":3,"names":["React","useState","TextInput","Button","SimpleGrid","Image","useNavigate","Header","geniusAPI","IconExternalLink","userService","AddPlaylist","handleAddPost","navigate","state","setState","songName","title","setTitle","songUrl","setSongUrl","lyricsUrl","setLyricsUrl","user","setUser","getUser","geniusUrl","handleSubmit","e","preventDefault","response","getSong","console","log","data","fullTitle","songImage","handleChange","target","name","value","handleLogout","logout","margin","maxWidth"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/components/Search.jsx"],"sourcesContent":["import React, {useState} from 'react';\nimport { TextInput, Button, SimpleGrid, Image } from '@mantine/core';\nimport { useNavigate } from \"react-router-dom\";\nimport Header from './Header';\nimport * as geniusAPI from '../utils/geniusApi';\nimport { IconExternalLink } from '@tabler/icons';\nimport userService from '../utils/userService';\n\n\nexport default function AddPlaylist({handleAddPost}) {\n\nconst navigate = useNavigate();\nconst [state, setState] = useState({\n    songName: '',\n});\nconst [title, setTitle] = useState('');\nconst [songUrl, setSongUrl] = useState('');\nconst [lyricsUrl, setLyricsUrl] = useState('');\nconst [user, setUser] = useState(userService.getUser());\nconst geniusUrl = `${lyricsUrl}`;\n\nasync function handleSubmit(e) {\n    e.preventDefault();\n    const response = await geniusAPI.getSong(state.songName);\n    console.log(response.data, '<--- RESPONSE DATA');\n    setTitle(response.data.fullTitle)\n    setSongUrl(response.data.songImage)\n    setLyricsUrl(response.data.lyricsUrl);\n}\n\nfunction handleChange(e) {\n    setState({\n        ...state,\n        [e.target.name]: e.target.value\n    })\n}\n\nfunction handleLogout() {\n    userService.logout();\n    setUser(null);\n    navigate('/login');\n}\n\n    return(\n\n        <>\n        <SimpleGrid col={3}>\n            <Header logout={handleLogout}/>\n        <div style={{margin: '5% 40% 0 40%'}}>\n        <form autoComplete=\"off\" onSubmit={handleSubmit}>\n        \n            <TextInput\n                style={{maxWidth: 350}}\n                label=\"Search Song\"\n                className=\"form-one\"\n                name=\"songName\"\n                value={state.songName}\n                onChange={handleChange}\n                required\n                withAsterisk\n                placeholder=\"Song Title\"\n            />\n            \n            <br />\n\n            <div>\n            <Button\n                type=\"submit\"\n                className='button'\n                onClick={handleSubmit}\n            >\n            Search \n            </Button>\n            </div>\n\n            <br />\n\n            </form>\n\n            <div style={{maxWidth: 600}}>    \n            <Image\n                radius=\"md\"\n                src={songUrl}\n                caption={title}\n            />\n            </div>\n\n            <br />\n\n            <div>\n            <Button component=\"a\" href={geniusUrl} variant=\"outline\" leftIcon={<IconExternalLink size={14} />}>\n                Lyrics on Genius\n            </Button>\n            </div>\n\n            </div>\n            </SimpleGrid>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}