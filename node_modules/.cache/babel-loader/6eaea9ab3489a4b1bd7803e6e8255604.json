{"ast":null,"code":"import React from 'react';\nimport { SelectScrollArea } from '../SelectScrollArea/SelectScrollArea.js';\nimport useStyles from './SelectPopover.styles.js';\nimport { Popover } from '../../Popover/Popover.js';\nimport { Box } from '../../Box/Box.js';\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __objRest = (source, exclude) => {\n  var target = {};\n\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\n\nfunction SelectPopoverDropdown(_a) {\n  var _b = _a,\n      {\n    children,\n    component = \"div\",\n    maxHeight = 220,\n    direction = \"column\",\n    id,\n    innerRef,\n    __staticSelector,\n    styles,\n    classNames,\n    unstyled\n  } = _b,\n      others = __objRest(_b, [\"children\", \"component\", \"maxHeight\", \"direction\", \"id\", \"innerRef\", \"__staticSelector\", \"styles\", \"classNames\", \"unstyled\"]);\n\n  const {\n    classes\n  } = useStyles(null, {\n    name: __staticSelector,\n    styles,\n    classNames,\n    unstyled\n  });\n  return /* @__PURE__ */React.createElement(Popover.Dropdown, __spreadValues({\n    p: 0,\n    onMouseDown: event => event.preventDefault()\n  }, others), /* @__PURE__ */React.createElement(\"div\", {\n    style: {\n      maxHeight,\n      display: \"flex\"\n    }\n  }, /* @__PURE__ */React.createElement(Box, {\n    component: component || \"div\",\n    id: `${id}-items`,\n    \"aria-labelledby\": `${id}-label`,\n    role: \"listbox\",\n    onMouseDown: event => event.preventDefault(),\n    style: {\n      flex: 1,\n      overflowY: component !== SelectScrollArea ? \"auto\" : void 0\n    },\n    \"data-combobox-popover\": true,\n    ref: innerRef\n  }, /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.itemsWrapper,\n    style: {\n      flexDirection: direction\n    }\n  }, children))));\n}\n\nfunction SelectPopover(_ref) {\n  let {\n    opened,\n    transition = \"fade\",\n    transitionDuration = 0,\n    shadow,\n    withinPortal,\n    children,\n    __staticSelector,\n    onDirectionChange,\n    switchDirectionOnFlip,\n    zIndex,\n    dropdownPosition,\n    positionDependencies = [],\n    classNames,\n    styles,\n    unstyled\n  } = _ref;\n  return /* @__PURE__ */React.createElement(Popover, {\n    unstyled,\n    classNames,\n    styles,\n    width: \"target\",\n    withRoles: false,\n    opened,\n    middlewares: {\n      flip: dropdownPosition === \"flip\",\n      shift: false\n    },\n    position: dropdownPosition === \"flip\" ? \"bottom\" : dropdownPosition,\n    positionDependencies,\n    zIndex,\n    __staticSelector,\n    withinPortal,\n    transition,\n    transitionDuration,\n    shadow,\n    onPositionChange: nextPosition => switchDirectionOnFlip && (onDirectionChange == null ? void 0 : onDirectionChange(nextPosition === \"top\" ? \"column-reverse\" : \"column\"))\n  }, children);\n}\n\nSelectPopover.Target = Popover.Target;\nSelectPopover.Dropdown = SelectPopoverDropdown;\nexport { SelectPopover };","map":{"version":3,"mappings":";;;;;AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAvB;AACA,IAAIC,mBAAmB,GAAGF,MAAM,CAACG,qBAAjC;AACA,IAAIC,YAAY,GAAGJ,MAAM,CAACK,SAAP,CAAiBC,cAApC;AACA,IAAIC,YAAY,GAAGP,MAAM,CAACK,SAAP,CAAiBG,oBAApC;;AACA,IAAIC,eAAe,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,KAAX,KAAqBD,GAAG,IAAID,GAAP,GAAaX,SAAS,CAACW,GAAD,EAAMC,GAAN,EAAW;EAAEE,UAAU,EAAE,IAAd;EAAoBC,YAAY,EAAE,IAAlC;EAAwCC,QAAQ,EAAE,IAAlD;EAAwDH;AAAxD,CAAX,CAAtB,GAAoGF,GAAG,CAACC,GAAD,CAAH,GAAWC,KAA1J;;AACA,IAAII,cAAc,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;EAC7B,KAAK,IAAIC,IAAT,IAAiBD,CAAC,KAAKA,CAAC,GAAG,EAAT,CAAlB,EACE,IAAId,YAAY,CAACgB,IAAb,CAAkBF,CAAlB,EAAqBC,IAArB,CAAJ,EACEV,eAAe,CAACQ,CAAD,EAAIE,IAAJ,EAAUD,CAAC,CAACC,IAAD,CAAX,CAAf;;EACJ,IAAIjB,mBAAJ,EACE,KAAK,IAAIiB,IAAT,IAAiBjB,mBAAmB,CAACgB,CAAD,CAApC,EAAyC;IACvC,IAAIX,YAAY,CAACa,IAAb,CAAkBF,CAAlB,EAAqBC,IAArB,CAAJ,EACEV,eAAe,CAACQ,CAAD,EAAIE,IAAJ,EAAUD,CAAC,CAACC,IAAD,CAAX,CAAf;EACH;EACH,OAAOF,CAAP;AACD,CAVD;;AAWA,IAAII,SAAS,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;EACnC,IAAIC,MAAM,GAAG,EAAb;;EACA,KAAK,IAAIL,IAAT,IAAiBG,MAAjB,EACE,IAAIlB,YAAY,CAACgB,IAAb,CAAkBE,MAAlB,EAA0BH,IAA1B,KAAmCI,OAAO,CAACE,OAAR,CAAgBN,IAAhB,IAAwB,CAA/D,EACEK,MAAM,CAACL,IAAD,CAAN,GAAeG,MAAM,CAACH,IAAD,CAArB;;EACJ,IAAIG,MAAM,IAAI,IAAV,IAAkBpB,mBAAtB,EACE,KAAK,IAAIiB,IAAT,IAAiBjB,mBAAmB,CAACoB,MAAD,CAApC,EAA8C;IAC5C,IAAIC,OAAO,CAACE,OAAR,CAAgBN,IAAhB,IAAwB,CAAxB,IAA6BZ,YAAY,CAACa,IAAb,CAAkBE,MAAlB,EAA0BH,IAA1B,CAAjC,EACEK,MAAM,CAACL,IAAD,CAAN,GAAeG,MAAM,CAACH,IAAD,CAArB;EACH;EACH,OAAOK,MAAP;AACD,CAXD;;AAiBA,SAASE,qBAAT,CAA+BC,EAA/B,EAAmC;EACjC,IAAIC,EAAE,GAAGD,EAAT;EAAA,IAAa;IACXE,QADW;IAEXC,SAAS,GAAG,KAFD;IAGXC,SAAS,GAAG,GAHD;IAIXC,SAAS,GAAG,QAJD;IAKXC,EALW;IAMXC,QANW;IAOXC,gBAPW;IAQXC,MARW;IASXC,UATW;IAUXC;EAVW,IAWTV,EAXJ;EAAA,IAWQW,MAAM,GAAGlB,SAAS,CAACO,EAAD,EAAK,CAC7B,UAD6B,EAE7B,WAF6B,EAG7B,WAH6B,EAI7B,WAJ6B,EAK7B,IAL6B,EAM7B,UAN6B,EAO7B,kBAP6B,EAQ7B,QAR6B,EAS7B,YAT6B,EAU7B,UAV6B,CAAL,CAX1B;;EAuBA,MAAM;IAAEY;EAAF,IAAcC,SAAS,CAAC,IAAD,EAAO;IAAEC,IAAI,EAAEP,gBAAR;IAA0BC,MAA1B;IAAkCC,UAAlC;IAA8CC;EAA9C,CAAP,CAA7B;EACA,sBAAuBK,KAAK,CAACC,aAAN,CAAoBC,OAAO,CAACC,QAA5B,EAAsC9B,cAAc,CAAC;IAC1E+B,CAAC,EAAE,CADuE;IAE1EC,WAAW,EAAGC,KAAD,IAAWA,KAAK,CAACC,cAAN;EAFkD,CAAD,EAGxEX,MAHwE,CAApD,EAGb,eAAkBI,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;IACrDO,KAAK,EAAE;MAAEpB,SAAF;MAAaqB,OAAO,EAAE;IAAtB;EAD8C,CAA3B,EAE3B,eAAkBT,KAAK,CAACC,aAAN,CAAoBS,GAApB,EAAyB;IAC1CvB,SAAS,EAAEA,SAAS,IAAI,KADkB;IAE1CG,EAAE,EAAG,GAAEA,EAAG,QAFgC;IAG1C,mBAAoB,GAAEA,EAAG,QAHiB;IAI1CqB,IAAI,EAAE,SAJoC;IAK1CN,WAAW,EAAGC,KAAD,IAAWA,KAAK,CAACC,cAAN,EALkB;IAM1CC,KAAK,EAAE;MAAEI,IAAI,EAAE,CAAR;MAAWC,SAAS,EAAE1B,SAAS,KAAK2B,gBAAd,GAAiC,MAAjC,GAA0C,KAAK;IAArE,CANmC;IAO1C,yBAAyB,IAPiB;IAQ1CC,GAAG,EAAExB;EARqC,CAAzB,EASlB,eAAkBS,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;IAC5Ce,SAAS,EAAEnB,OAAO,CAACoB,YADyB;IAE5CT,KAAK,EAAE;MAAEU,aAAa,EAAE7B;IAAjB;EAFqC,CAA3B,EAGhBH,QAHgB,CATA,CAFS,CAHL,CAAvB;AAkBD;;AACM,SAASiC,aAAT,OAgBJ;EAAA,IAhB2B;IAC5BC,MAD4B;IAE5BC,UAAU,GAAG,MAFe;IAG5BC,kBAAkB,GAAG,CAHO;IAI5BC,MAJ4B;IAK5BC,YAL4B;IAM5BtC,QAN4B;IAO5BM,gBAP4B;IAQ5BiC,iBAR4B;IAS5BC,qBAT4B;IAU5BC,MAV4B;IAW5BC,gBAX4B;IAY5BC,oBAAoB,GAAG,EAZK;IAa5BnC,UAb4B;IAc5BD,MAd4B;IAe5BE;EAf4B,CAgB3B;EACD,sBAAuBK,KAAK,CAACC,aAAN,CAAoBC,OAApB,EAA6B;IAClDP,QADkD;IAElDD,UAFkD;IAGlDD,MAHkD;IAIlDqC,KAAK,EAAE,QAJ2C;IAKlDC,SAAS,EAAE,KALuC;IAMlDX,MANkD;IAOlDY,WAAW,EAAE;MAAEC,IAAI,EAAEL,gBAAgB,KAAK,MAA7B;MAAqCM,KAAK,EAAE;IAA5C,CAPqC;IAQlDC,QAAQ,EAAEP,gBAAgB,KAAK,MAArB,GAA8B,QAA9B,GAAyCA,gBARD;IASlDC,oBATkD;IAUlDF,MAVkD;IAWlDnC,gBAXkD;IAYlDgC,YAZkD;IAalDH,UAbkD;IAclDC,kBAdkD;IAelDC,MAfkD;IAgBlDa,gBAAgB,EAAGC,YAAD,IAAkBX,qBAAqB,KAAKD,iBAAiB,IAAI,IAArB,GAA4B,KAAK,CAAjC,GAAqCA,iBAAiB,CAACY,YAAY,KAAK,KAAjB,GAAyB,gBAAzB,GAA4C,QAA7C,CAA3D;EAhBP,CAA7B,EAiBpBnD,QAjBoB,CAAvB;AAkBD;;AACDiC,aAAa,CAACmB,MAAd,GAAuBpC,OAAO,CAACoC,MAA/B;AACAnB,aAAa,CAAChB,QAAd,GAAyBpB,qBAAzB","names":["__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__objRest","source","exclude","target","indexOf","SelectPopoverDropdown","_a","_b","children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled","others","classes","useStyles","name","React","createElement","Popover","Dropdown","p","onMouseDown","event","preventDefault","style","display","Box","role","flex","overflowY","SelectScrollArea","ref","className","itemsWrapper","flexDirection","SelectPopover","opened","transition","transitionDuration","shadow","withinPortal","onDirectionChange","switchDirectionOnFlip","zIndex","dropdownPosition","positionDependencies","width","withRoles","middlewares","flip","shift","position","onPositionChange","nextPosition","Target"],"sources":["../../../src/Select/SelectPopover/SelectPopover.tsx"],"sourcesContent":["import React from 'react';\nimport { ClassNames, MantineShadow, Styles, Selectors, DefaultProps } from '@mantine/styles';\nimport { SelectScrollArea } from '../SelectScrollArea/SelectScrollArea';\nimport { Popover } from '../../Popover';\nimport { Box } from '../../Box';\nimport { MantineTransition } from '../../Transition';\nimport useStyles from './SelectPopover.styles';\n\nexport type SelectPopoverStylesNames = Selectors<typeof useStyles>;\n\ninterface SelectPopoverDropdownProps extends DefaultProps<SelectPopoverStylesNames> {\n  children: React.ReactNode;\n  id: string;\n  component?: any;\n  maxHeight?: number | string;\n  direction?: React.CSSProperties['flexDirection'];\n  innerRef?: React.MutableRefObject<HTMLDivElement>;\n  __staticSelector?: string;\n}\n\nfunction SelectPopoverDropdown({\n  children,\n  component = 'div',\n  maxHeight = 220,\n  direction = 'column',\n  id,\n  innerRef,\n  __staticSelector,\n  styles,\n  classNames,\n  unstyled,\n  ...others\n}: SelectPopoverDropdownProps) {\n  const { classes } = useStyles(null, { name: __staticSelector, styles, classNames, unstyled });\n\n  return (\n    <Popover.Dropdown p={0} onMouseDown={(event) => event.preventDefault()} {...others}>\n      <div style={{ maxHeight, display: 'flex' }}>\n        <Box<'div'>\n          component={(component || 'div') as any}\n          id={`${id}-items`}\n          aria-labelledby={`${id}-label`}\n          role=\"listbox\"\n          onMouseDown={(event) => event.preventDefault()}\n          style={{ flex: 1, overflowY: component !== SelectScrollArea ? 'auto' : undefined }}\n          data-combobox-popover\n          ref={innerRef}\n        >\n          <div className={classes.itemsWrapper} style={{ flexDirection: direction }}>\n            {children}\n          </div>\n        </Box>\n      </div>\n    </Popover.Dropdown>\n  );\n}\n\ninterface SelectPopoverProps {\n  opened: boolean;\n  transition?: MantineTransition;\n  transitionDuration?: number;\n  shadow?: MantineShadow;\n  withinPortal?: boolean;\n  children: React.ReactNode;\n  __staticSelector?: string;\n  onDirectionChange?(direction: React.CSSProperties['flexDirection']): void;\n  switchDirectionOnFlip?: boolean;\n  zIndex?: React.CSSProperties['zIndex'];\n  dropdownPosition?: 'bottom' | 'top' | 'flip';\n  positionDependencies?: any[];\n  classNames?: ClassNames<SelectPopoverStylesNames>;\n  styles?: Styles<SelectPopoverStylesNames>;\n  unstyled?: boolean;\n}\n\nexport function SelectPopover({\n  opened,\n  transition = 'fade',\n  transitionDuration = 0,\n  shadow,\n  withinPortal,\n  children,\n  __staticSelector,\n  onDirectionChange,\n  switchDirectionOnFlip,\n  zIndex,\n  dropdownPosition,\n  positionDependencies = [],\n  classNames,\n  styles,\n  unstyled,\n}: SelectPopoverProps) {\n  return (\n    <Popover\n      unstyled={unstyled}\n      classNames={classNames}\n      styles={styles}\n      width=\"target\"\n      withRoles={false}\n      opened={opened}\n      middlewares={{ flip: dropdownPosition === 'flip', shift: false }}\n      position={dropdownPosition === 'flip' ? 'bottom' : dropdownPosition}\n      positionDependencies={positionDependencies}\n      zIndex={zIndex}\n      __staticSelector={__staticSelector}\n      withinPortal={withinPortal}\n      transition={transition}\n      transitionDuration={transitionDuration}\n      shadow={shadow}\n      onPositionChange={(nextPosition) =>\n        switchDirectionOnFlip &&\n        onDirectionChange?.(nextPosition === 'top' ? 'column-reverse' : 'column')\n      }\n    >\n      {children}\n    </Popover>\n  );\n}\n\nSelectPopover.Target = Popover.Target;\nSelectPopover.Dropdown = SelectPopoverDropdown;\n"]},"metadata":{},"sourceType":"module"}