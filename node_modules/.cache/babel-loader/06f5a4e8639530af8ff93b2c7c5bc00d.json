{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import React,{useState}from\"react\";// import ErrorMessage from \"../../components/ErrorMessage/ErrorMessage\";\nimport userService from\"../../utils/userService\";import{useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{Paper,createStyles,TextInput,PasswordInput,Button,Title,Text}from'@mantine/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createStyles(function(theme){return{wrapper:{minHeight:900,backgroundSize:'cover',backgroundImage:'url(https://images.unsplash.com/photo-1601066525716-3cca33c6d4c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)'},form:_defineProperty({borderRight:\"1px solid \".concat(theme.colorScheme==='dark'?theme.colors.dark[7]:theme.colors.gray[3]),minHeight:900,maxWidth:450,paddingTop:80},\"@media (max-width: \".concat(theme.breakpoints.sm,\"px)\"),{maxWidth:'100%'}),title:{color:theme.colorScheme==='dark'?theme.white:theme.black,fontFamily:\"Greycliff CF, \".concat(theme.fontFamily)},logo:{color:theme.colorScheme==='dark'?theme.white:theme.black,width:120,display:'block',marginLeft:'auto',marginRight:'auto'}};});function isPasswordMatch(password,passwordConf){return password===passwordConf;}export default function SignUpPage(props){var _useStyles=useStyles(),classes=_useStyles.classes;var navigate=useNavigate();var _useState=useState({message:'',passwordError:false}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({username:'',email:'',password:'',passwordConf:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(isPasswordMatch(state.password,state.passwordConf)){_context.next=3;break;}return _context.abrupt(\"return\",setError({message:'Your passwords must match!',passwordError:true}));case 3:setError({message:'',passwordError:false});_context.prev=4;_context.next=7;return userService.signup(_objectSpread({},state));case 7:props.handleSignUpOrLogin();navigate('/');_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.log(_context.t0.message);setError(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[4,11]]);}));return _handleSubmit.apply(this,arguments);}function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));}return/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Paper,{className:classes.form,radius:0,p:30,children:[/*#__PURE__*/_jsx(Title,{order:2,className:classes.title,align:\"center\",mt:\"md\",mb:50,children:\"Create An Account\"}),/*#__PURE__*/_jsx(TextInput,{name:\"username\",placeholder:\"Username\",value:state.username,onChange:handleChange,required:true,label:\"Username\",size:\"md\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextInput,{type:\"email\",name:\"email\",placeholder:\"hello@gmail.com\",value:state.email,onChange:handleChange,required:true,label:\"Email Address\",size:\"md\"}),/*#__PURE__*/_jsx(PasswordInput,{type:\"password\",name:\"password\",placeholder:\"Password\",value:state.password,onChange:handleChange,required:true,label:\"Password\",mt:\"md\",size:\"md\",error:error.message}),/*#__PURE__*/_jsx(PasswordInput,{type:\"password\",name:\"passwordConf\",placeholder:\"Confirm Password\",value:state.passwordConf,onChange:handleChange,required:true,label:\"Password Confirmation\",mt:\"md\",size:\"md\",error:error.message}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,mt:\"xl\",size:\"md\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(Text,{align:\"center\",mt:\"md\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Log In\"})]})]})})});}","map":{"version":3,"names":["React","useState","userService","useNavigate","Link","Paper","createStyles","TextInput","PasswordInput","Button","Title","Text","useStyles","theme","wrapper","minHeight","backgroundSize","backgroundImage","form","borderRight","colorScheme","colors","dark","gray","maxWidth","paddingTop","breakpoints","sm","title","color","white","black","fontFamily","logo","width","display","marginLeft","marginRight","isPasswordMatch","password","passwordConf","SignUpPage","props","classes","navigate","message","passwordError","error","setError","username","email","state","setState","handleSubmit","e","preventDefault","signup","handleSignUpOrLogin","console","log","handleChange","target","name","value"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/pages/SignupPage/SignupPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n// import ErrorMessage from \"../../components/ErrorMessage/ErrorMessage\";\nimport userService from \"../../utils/userService\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    Paper,\n    createStyles,\n    TextInput,\n    PasswordInput,\n    Button,\n    Title,\n    Text,\n} from '@mantine/core';\n\n\nconst useStyles = createStyles((theme) => ({\n    wrapper: {\n        minHeight: 900,\n        backgroundSize: 'cover',\n        backgroundImage:\n        'url(https://images.unsplash.com/photo-1601066525716-3cca33c6d4c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)',\n    },\n\n    form: {\n        borderRight: `1px solid ${\n        theme.colorScheme === 'dark' ? theme.colors.dark[7] : theme.colors.gray[3]\n        }`,\n        minHeight: 900,\n        maxWidth: 450,\n        paddingTop: 80,\n\n    [`@media (max-width: ${theme.breakpoints.sm}px)`]: {\n        maxWidth: '100%',\n        },\n    },\n\n    title: {\n        color: theme.colorScheme === 'dark' ? theme.white : theme.black,\n        fontFamily: `Greycliff CF, ${theme.fontFamily}`,\n    },\n\n    logo: {\n        color: theme.colorScheme === 'dark' ? theme.white : theme.black,\n        width: 120,\n        display: 'block',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n    },\n}));\n\nfunction isPasswordMatch(password, passwordConf) {\n  return password === passwordConf;\n}\n\nexport default function SignUpPage(props) {\n\n    const { classes } = useStyles();\n\n    const navigate = useNavigate();\n    \n    const [error, setError] = useState({\n      message: '',\n      passwordError: false\n    });\n\n    const [state, setState] = useState({\n      username: '',\n      email: '',\n      password: '',\n      passwordConf: '',\n    })\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        if(!isPasswordMatch(state.password, state.passwordConf)) return setError({message: 'Your passwords must match!', passwordError: true});\n        setError({message: '', passwordError: false});\n        try {\n          await userService.signup({...state});\n          props.handleSignUpOrLogin();\n          navigate('/')\n      } catch(err) {\n        console.log(err.message);\n        setError(err.message);\n      }\n    }\n\n    function handleChange(e) {\n        setState({\n          ...state,\n          [e.target.name]: e.target.value\n        })\n    }\n\n    return (\n\n    <div className={classes.wrapper}>\n\n        <form onSubmit={handleSubmit}>\n\n          <Paper className={classes.form} radius={0} p={30}>\n\n            <Title order={2} className={classes.title} align=\"center\" mt=\"md\" mb={50}>Create An Account</Title>\n\n            <TextInput name=\"username\" placeholder=\"Username\" value={state.username} onChange={handleChange} required label=\"Username\" size=\"md\" />\n\n            <br />\n\n            <TextInput type=\"email\" name=\"email\" placeholder=\"hello@gmail.com\" value={state.email} onChange={handleChange} required label=\"Email Address\"  size=\"md\" />\n\n            <PasswordInput type=\"password\" name=\"password\" placeholder=\"Password\" value={state.password} onChange={handleChange} required label=\"Password\" mt=\"md\" size=\"md\" error={error.message} />\n\n            <PasswordInput type=\"password\" name=\"passwordConf\" placeholder=\"Confirm Password\" value={state.passwordConf} onChange={handleChange} required label=\"Password Confirmation\" mt=\"md\" size=\"md\" error={error.message} />\n\n            <Button type=\"submit\" fullWidth mt=\"xl\" size=\"md\">Sign Up</Button>\n\n            <Text align=\"center\" mt=\"md\">Already have an account?{' '}\n            <Link to=\"/login\">Log In</Link>\n            </Text>\n\n            </Paper>\n\n        </form>\n        \n    </div>\n    \n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}