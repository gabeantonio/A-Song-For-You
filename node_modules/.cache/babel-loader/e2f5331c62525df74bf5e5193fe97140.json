{"ast":null,"code":"import _slicedToArray from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{createStyles,Paper,Text,Title,Button,Modal,Group,ActionIcon,Indicator,SimpleGrid}from'@mantine/core';import{IconHeart}from'@tabler/icons';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=createStyles(function(theme){return{card:{height:440,display:'flex',flexDirection:'column',justifyContent:'space-between',alignItems:'flex-start',backgroundSize:'cover',backgroundPosition:'center',margin:'40px 0 0 0'},title:{fontFamily:\"Greycliff CF \".concat(theme.fontFamily),fontWeight:900,color:theme.white,lineHeight:1.2,fontSize:32,marginTop:theme.spacing.xs},category:{color:theme.white,opacity:0.7,fontWeight:700,textTransform:'uppercase'}};});export default function PlaylistPost(_ref){var post=_ref.post,addLike=_ref.addLike,removeLike=_ref.removeLike,loggedInUser=_ref.loggedInUser,deletePost=_ref.deletePost;var _useStyles=useStyles(),classes=_useStyles.classes;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];var profileUrl=\"/\".concat(post.user.username);var likeCount=post.likes.length;var likedIndex=post.likes.findIndex(function(like){return like.username===loggedInUser.username;});console.log(likedIndex,'<----- LIKED INDEX');var likeColor=likedIndex>-1?'red':'grey';var clickHandler=likedIndex>-1?function(){return removeLike(post.likes[likedIndex]._id);}:function(){return addLike(post._id);};console.log(post._id,'<----- POST ID HERE');// const deleteThisPost = deletePost(post._id)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Paper,{shadow:\"md\",p:\"xl\",radius:\"xl\",sx:{backgroundImage:\"url(\".concat(post.photoUrl,\")\")}// Maybe put a ? after post.\n,className:classes.card,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:profileUrl,children:/*#__PURE__*/_jsx(Text,{className:classes.category,size:\"xs\",children:post.user.username})}),/*#__PURE__*/_jsx(Title,{order:3,className:classes.title,children:post.playlistName})]}),/*#__PURE__*/_jsxs(Modal,{opened:opened,centered:true,onClose:function onClose(){return setOpened(false);},title:post.playlistName,overflow:\"inside\",children:[post.tracklist,/*#__PURE__*/_jsx(\"div\",{style:{margin:'0 0 0 65%'},children:/*#__PURE__*/_jsx(Button,{color:\"red\",size:\"xs\",children:\"Delete Playlist\"})})]}),/*#__PURE__*/_jsxs(SimpleGrid,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Group,{children:/*#__PURE__*/_jsx(Indicator,{label:likeCount,inline:true,size:15,children:/*#__PURE__*/_jsx(ActionIcon,{children:/*#__PURE__*/_jsx(IconHeart,{size:100,color:likeColor,stroke:1.5,onClick:clickHandler})})})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Group,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setOpened(true);},children:\"View Tracklist\"})})})]})]})});}","map":{"version":3,"names":["React","useState","createStyles","Paper","Text","Title","Button","Modal","Group","ActionIcon","Indicator","SimpleGrid","IconHeart","Link","useStyles","theme","card","height","display","flexDirection","justifyContent","alignItems","backgroundSize","backgroundPosition","margin","title","fontFamily","fontWeight","color","white","lineHeight","fontSize","marginTop","spacing","xs","category","opacity","textTransform","PlaylistPost","post","addLike","removeLike","loggedInUser","deletePost","classes","opened","setOpened","profileUrl","user","username","likeCount","likes","length","likedIndex","findIndex","like","console","log","likeColor","clickHandler","_id","backgroundImage","photoUrl","playlistName","tracklist"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/components/PlaylistPost.jsx"],"sourcesContent":["import React, {useState} from 'react';\nimport { createStyles, Paper, Text, Title, Button, Modal, Group, ActionIcon, Indicator, SimpleGrid } from '@mantine/core';\nimport { IconHeart } from '@tabler/icons';\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = createStyles((theme) => ({\ncard: {\n    height: 440,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    margin: '40px 0 0 0'\n},\n\ntitle: {\n    fontFamily: `Greycliff CF ${theme.fontFamily}`,\n    fontWeight: 900,\n    color: theme.white,\n    lineHeight: 1.2,\n    fontSize: 32,\n    marginTop: theme.spacing.xs,\n},\n\ncategory: {\n    color: theme.white,\n    opacity: 0.7,\n    fontWeight: 700,\n    textTransform: 'uppercase',\n},\n}));\n\n\n\n\nexport default function PlaylistPost({post, addLike, removeLike, loggedInUser, deletePost }) {\n\n    const { classes } = useStyles();\n    const [opened, setOpened] = useState(false);\n    const profileUrl = `/${post.user.username}`;\n    const likeCount = post.likes.length\n    const likedIndex = post.likes.findIndex(\n        (like) => like.username === loggedInUser.username);\n    console.log(likedIndex, '<----- LIKED INDEX')\n    const likeColor = likedIndex > -1 ? 'red' : 'grey'\n    const clickHandler =\n    likedIndex > -1\n        ? () => removeLike(post.likes[likedIndex]._id)  \n        : () => addLike(post._id);\n    \n    console.log(post._id, '<----- POST ID HERE')\n    // const deleteThisPost = deletePost(post._id)\n\n    return (\n        <>\n        \n    <Paper\n        shadow=\"md\"\n        p=\"xl\"\n        radius=\"xl\"\n        sx={{ backgroundImage: `url(${post.photoUrl})` }} // Maybe put a ? after post.\n        className={classes.card}\n        >\n        \n        <div>\n        <Link to={profileUrl}>\n        <Text className={classes.category} size=\"xs\">\n            {post.user.username}\n        </Text>\n        </Link>        \n        <Title order={3} className={classes.title}>\n            {post.playlistName}\n        </Title>\n        \n        </div>\n\n        <Modal\n        opened={opened}\n        centered\n        onClose={() => setOpened(false)}\n        title={post.playlistName} \n        overflow=\"inside\"\n        >\n        {post.tracklist}\n\n        <div style={{margin: '0 0 0 65%'}}>\n        <Button color='red' size='xs'>\n            Delete Playlist\n        </Button>\n        </div>\n        \n        </Modal>\n\n        \n        <SimpleGrid>\n        <div >\n        <Group>\n        <Indicator label={likeCount}  inline size={15} >\n        <ActionIcon>\n            <IconHeart size={100} color={likeColor} stroke={1.5} onClick={clickHandler} />\n        </ActionIcon>\n        </Indicator>\n        </Group>\n        </div>\n\n\n        <div>\n        <Group>\n        <Button onClick={() => setOpened(true)}>View Tracklist</Button>\n        </Group>\n        </div>\n        </SimpleGrid>\n\n    </Paper>\n    </>\n);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}