{"ast":null,"code":"import _toConsumableArray from \"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState } from 'react';\n\nfunction useQueue(_ref) {\n  var _ref$initialValues = _ref.initialValues,\n      initialValues = _ref$initialValues === void 0 ? [] : _ref$initialValues,\n      limit = _ref.limit;\n\n  var _useState = useState({\n    state: initialValues.slice(0, limit),\n    queue: initialValues.slice(limit)\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      _useState2$ = _useState2[0],\n      state = _useState2$.state,\n      queue = _useState2$.queue,\n      setState = _useState2[1];\n\n  var add = function add() {\n    for (var _len = arguments.length, items = new Array(_len), _key = 0; _key < _len; _key++) {\n      items[_key] = arguments[_key];\n    }\n\n    return setState(function (current) {\n      var results = [].concat(_toConsumableArray(current.state), _toConsumableArray(current.queue), items);\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit)\n      };\n    });\n  };\n\n  var update = function update(fn) {\n    return setState(function (current) {\n      var results = fn([].concat(_toConsumableArray(current.state), _toConsumableArray(current.queue)));\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit)\n      };\n    });\n  };\n\n  var cleanQueue = function cleanQueue() {\n    return setState(function (current) {\n      return {\n        state: current.state,\n        queue: []\n      };\n    });\n  };\n\n  return {\n    state: state,\n    queue: queue,\n    add: add,\n    update: update,\n    cleanQueue: cleanQueue\n  };\n}\n\nexport { useQueue };","map":{"version":3,"mappings":";;;;AACO,SAASA,QAAT,OAAiD;EAAA,8BAA7BC,aAA6B;EAAA,IAA7BA,aAA6B,mCAAb,EAAa;EAAA,IAATC,KAAS,QAATA,KAAS;;EACtD,gBAAqCC,QAAQ,CAAC;IAC5CC,KAAK,EAAEH,aAAa,CAACI,KAAd,CAAoB,CAApB,EAAuBH,KAAvB,CADqC;IAE5CI,KAAK,EAAEL,aAAa,CAACI,KAAd,CAAoBH,KAApB;EAFqC,CAAD,CAA7C;EAAA;EAAA;EAAA,IAASE,KAAT,eAASA,KAAT;EAAA,IAAgBE,KAAhB,eAAgBA,KAAhB;EAAA,IAAyBC,QAAzB;;EAIA,IAAMC,GAAG,GAAG,SAANA,GAAM;IAAA,kCAAIC,KAAJ;MAAIA,KAAJ;IAAA;;IAAA,OAAcF,QAAQ,CAAC,UAACG,OAAD,EAAa;MAC9C,IAAMC,OAAO,gCAAOD,OAAO,CAACN,KAAf,sBAAyBM,OAAO,CAACJ,KAAjC,GAA2CG,KAA3C,CAAb;MACA,OAAO;QACLL,KAAK,EAAEO,OAAO,CAACN,KAAR,CAAc,CAAd,EAAiBH,KAAjB,CADF;QAELI,KAAK,EAAEK,OAAO,CAACN,KAAR,CAAcH,KAAd;MAFF,CAAP;IAID,CANiC,CAAtB;EAAA,CAAZ;;EAOA,IAAMU,MAAM,GAAG,SAATA,MAAS,CAACC,EAAD;IAAA,OAAQN,QAAQ,CAAC,UAACG,OAAD,EAAa;MAC3C,IAAMC,OAAO,GAAGE,EAAE,8BAAKH,OAAO,CAACN,KAAb,sBAAuBM,OAAO,CAACJ,KAA/B,GAAlB;MACA,OAAO;QACLF,KAAK,EAAEO,OAAO,CAACN,KAAR,CAAc,CAAd,EAAiBH,KAAjB,CADF;QAELI,KAAK,EAAEK,OAAO,CAACN,KAAR,CAAcH,KAAd;MAFF,CAAP;IAID,CAN8B,CAAhB;EAAA,CAAf;;EAOA,IAAMY,UAAU,GAAG,SAAbA,UAAa;IAAA,OAAMP,QAAQ,CAAC,UAACG,OAAD;MAAA,OAAc;QAAEN,KAAK,EAAEM,OAAO,CAACN,KAAjB;QAAwBE,KAAK,EAAE;MAA/B,CAAd;IAAA,CAAD,CAAd;EAAA,CAAnB;;EACA,OAAO;IACLF,KAAK,EAALA,KADK;IAELE,KAAK,EAALA,KAFK;IAGLE,GAAG,EAAHA,GAHK;IAILI,MAAM,EAANA,MAJK;IAKLE,UAAU,EAAVA;EALK,CAAP;AAOF","names":["useQueue","initialValues","limit","useState","state","slice","queue","setState","add","items","current","results","update","fn","cleanQueue"],"sources":["../../src/use-queue/use-queue.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport function useQueue<T>({ initialValues = [], limit }: { initialValues?: T[]; limit: number }) {\n  const [{ state, queue }, setState] = useState({\n    state: initialValues.slice(0, limit),\n    queue: initialValues.slice(limit),\n  });\n\n  const add = (...items: T[]) =>\n    setState((current) => {\n      const results = [...current.state, ...current.queue, ...items];\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const update = (fn: (state: T[]) => T[]) =>\n    setState((current) => {\n      const results = fn([...current.state, ...current.queue]);\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const cleanQueue = () => setState((current) => ({ state: current.state, queue: [] }));\n\n  return {\n    state,\n    queue,\n    add,\n    update,\n    cleanQueue,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}