{"ast":null,"code":"import _slicedToArray from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{createStyles,Paper,Text,Title,Button,Modal,Group,ActionIcon,Indicator,SimpleGrid}from'@mantine/core';import{IconHeart}from'@tabler/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createStyles(function(theme){return{card:{height:440,display:'flex',flexDirection:'column',justifyContent:'space-between',alignItems:'flex-start',backgroundSize:'cover',backgroundPosition:'center',margin:'40px 0 0 0'},title:{fontFamily:\"Greycliff CF \".concat(theme.fontFamily),fontWeight:900,color:theme.white,lineHeight:1.2,fontSize:32,marginTop:theme.spacing.xs},category:{color:theme.white,opacity:0.7,fontWeight:700,textTransform:'uppercase'}};});export default function ProfilePosts(_ref){var post=_ref.post,loggedInUser=_ref.loggedInUser,addLike=_ref.addLike,removeLike=_ref.removeLike;var _useStyles=useStyles(),classes=_useStyles.classes;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];var likeCount=post.likes.length;var likedIndex=post.likes.findIndex(function(like){return like.username===loggedInUser.username;});console.log(likedIndex,'<----- LIKED INDEX');var likeColor=likedIndex>-1?'red':'grey';var clickHandler=likedIndex>-1?function(){return removeLike(post.likes[likedIndex]._id);}:function(){return addLike(post._id);};return/*#__PURE__*/_jsxs(Paper,{shadow:\"md\",p:\"xl\",radius:\"xl\",sx:{backgroundImage:\"url(\".concat(post.photoUrl,\")\")},className:classes.card,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{className:classes.category,size:\"xs\",children:post.user.username}),/*#__PURE__*/_jsx(Title,{order:3,className:classes.title,children:post.playlistName})]}),/*#__PURE__*/_jsx(Modal,{opened:opened,centered:true,overlayOpacity:0.55,overlayBlur:3,onClose:function onClose(){return setOpened(false);},title:post.playlistName,children:post.tracklist}),/*#__PURE__*/_jsxs(SimpleGrid,{children:[/*#__PURE__*/_jsx(\"div\",{style:{margin:'0 0 -30% 0'},children:/*#__PURE__*/_jsx(Indicator,{label:likeCount,overflowCount:10,inline:true,size:15,children:/*#__PURE__*/_jsx(ActionIcon,{children:/*#__PURE__*/_jsx(IconHeart,{size:100,color:likeColor,stroke:1.5,onClick:clickHandler})})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Group,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setOpened(true);},children:\"View Tracklist\"})})})]})]});}","map":{"version":3,"names":["React","useState","createStyles","Paper","Text","Title","Button","Modal","Group","ActionIcon","Indicator","SimpleGrid","IconHeart","useStyles","theme","card","height","display","flexDirection","justifyContent","alignItems","backgroundSize","backgroundPosition","margin","title","fontFamily","fontWeight","color","white","lineHeight","fontSize","marginTop","spacing","xs","category","opacity","textTransform","ProfilePosts","post","loggedInUser","addLike","removeLike","classes","opened","setOpened","likeCount","likes","length","likedIndex","findIndex","like","username","console","log","likeColor","clickHandler","_id","backgroundImage","photoUrl","user","playlistName","tracklist"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/components/ProfilePost.jsx"],"sourcesContent":["import React, {useState} from 'react';\nimport { createStyles, Paper, Text, Title, Button, Modal, Group, ActionIcon, Indicator, SimpleGrid } from '@mantine/core';\nimport { IconHeart } from '@tabler/icons';\n\nconst useStyles = createStyles((theme) => ({\ncard: {\n    height: 440,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    margin: '40px 0 0 0'\n},\n\ntitle: {\n    fontFamily: `Greycliff CF ${theme.fontFamily}`,\n    fontWeight: 900,\n    color: theme.white,\n    lineHeight: 1.2,\n    fontSize: 32,\n    marginTop: theme.spacing.xs,\n},\n\ncategory: {\n    color: theme.white,\n    opacity: 0.7,\n    fontWeight: 700,\n    textTransform: 'uppercase',\n},\n}));\n\n\n\n\nexport default function ProfilePosts({post, loggedInUser, addLike, removeLike}) {\n    \n    const { classes } = useStyles();\n    const [opened, setOpened] = useState(false);\n    const likeCount = post.likes.length\n    const likedIndex = post.likes.findIndex(\n        (like) => like.username === loggedInUser.username);\n    console.log(likedIndex, '<----- LIKED INDEX')\n    const likeColor = likedIndex > -1 ? 'red' : 'grey'\n    const clickHandler =\n    likedIndex > -1\n        ? () => removeLike(post.likes[likedIndex]._id)  \n        : () => addLike(post._id);\n\n    return (\n    <Paper\n        shadow=\"md\"\n        p=\"xl\"\n        radius=\"xl\"\n        sx={{ backgroundImage: `url(${post.photoUrl})` }}\n        className={classes.card}\n        >\n        \n        <div>\n        <Text className={classes.category} size=\"xs\">\n            {post.user.username}\n        </Text>\n        <Title order={3} className={classes.title}>\n            {post.playlistName}\n        </Title>\n        </div>\n\n        <Modal\n        opened={opened}\n        centered\n        overlayOpacity={0.55}\n        overlayBlur={3}\n        onClose={() => setOpened(false)}\n        title={post.playlistName} \n        >\n        {post.tracklist}\n        </Modal>\n\n        <SimpleGrid>\n        <div style={{margin: '0 0 -30% 0'}}>\n        <Indicator label={likeCount} overflowCount={10} inline size={15} >\n        <ActionIcon>\n            <IconHeart size={100} color={likeColor} stroke={1.5} onClick={clickHandler} />\n        </ActionIcon>\n        </Indicator>\n        </div>\n\n        <div>\n        <Group>\n        <Button onClick={() => setOpened(true)}>View Tracklist</Button>\n        </Group>\n        </div>\n        </SimpleGrid>\n        \n    </Paper>\n);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}