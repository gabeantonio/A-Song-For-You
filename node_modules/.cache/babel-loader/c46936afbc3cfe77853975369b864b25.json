{"ast":null,"code":"function setToken(token){if(token){// localStorage is given to us by the browser\nlocalStorage.setItem('token',token);}else{localStorage.removeItem('token');}}function getToken(){var token=localStorage.getItem('token');if(token){// Check if expired, remove if it is\n// atob is a function that decodes a base-64 string\nvar payload=JSON.parse(atob(token.split('.')[1]));// JWT's exp is expressed in seconds, not milliseconds, so convert\nif(payload.exp<Date.now()/1000){localStorage.removeItem('token');token=null;}}return token;}function getUserFromToken(){var token=getToken();return token?JSON.parse(atob(token.split('.')[1])).user:null;}function removeToken(){localStorage.removeItem('token');}var tokenService={setToken:setToken,getToken:getToken,removeToken:removeToken,getUserFromToken:getUserFromToken};export default tokenService;","map":{"version":3,"names":["setToken","token","localStorage","setItem","removeItem","getToken","getItem","payload","JSON","parse","atob","split","exp","Date","now","getUserFromToken","user","removeToken","tokenService"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/utils/tokenService.js"],"sourcesContent":["function setToken(token) {\n    if (token) {\n      // localStorage is given to us by the browser\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('token');\n    }\n  }\n  \n  function getToken() {\n    let token = localStorage.getItem('token');\n    if (token) {\n      // Check if expired, remove if it is\n      // atob is a function that decodes a base-64 string\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      // JWT's exp is expressed in seconds, not milliseconds, so convert\n      if (payload.exp < Date.now() / 1000) {\n        localStorage.removeItem('token');\n        token = null;\n      }\n    }\n    return token;\n  }\n  \n  function getUserFromToken() {\n    const token = getToken();\n    return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n  }\n  \n  function removeToken() {\n    localStorage.removeItem('token');\n  }\n  \n  const tokenService = {\n    setToken,\n    getToken,\n    removeToken,\n    getUserFromToken\n  };\n\nexport default tokenService"],"mappings":"AAAA,QAASA,SAAT,CAAkBC,KAAlB,CAAyB,CACrB,GAAIA,KAAJ,CAAW,CACT;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,KAA9B,EACD,CAHD,IAGO,CACLC,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACD,CACF,CAED,QAASC,SAAT,EAAoB,CAClB,GAAIJ,MAAK,CAAGC,YAAY,CAACI,OAAb,CAAqB,OAArB,CAAZ,CACA,GAAIL,KAAJ,CAAW,CACT;AACA;AACA,GAAMM,QAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACT,KAAK,CAACU,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAhB,CACA;AACA,GAAIJ,OAAO,CAACK,GAAR,CAAcC,IAAI,CAACC,GAAL,GAAa,IAA/B,CAAqC,CACnCZ,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACAH,KAAK,CAAG,IAAR,CACD,CACF,CACD,MAAOA,MAAP,CACD,CAED,QAASc,iBAAT,EAA4B,CAC1B,GAAMd,MAAK,CAAGI,QAAQ,EAAtB,CACA,MAAOJ,MAAK,CAAGO,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACT,KAAK,CAACU,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,EAAsCK,IAAzC,CAAgD,IAA5D,CACD,CAED,QAASC,YAAT,EAAuB,CACrBf,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACD,CAED,GAAMc,aAAY,CAAG,CACnBlB,QAAQ,CAARA,QADmB,CAEnBK,QAAQ,CAARA,QAFmB,CAGnBY,WAAW,CAAXA,WAHmB,CAInBF,gBAAgB,CAAhBA,gBAJmB,CAArB,CAOF,cAAeG,aAAf"},"metadata":{},"sourceType":"module"}