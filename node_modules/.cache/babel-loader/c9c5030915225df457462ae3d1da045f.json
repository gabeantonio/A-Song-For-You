{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{FileInput,Textarea,TextInput,Button,Modal,Group,SimpleGrid,Text,Image}from'@mantine/core';import{useNavigate}from\"react-router-dom\";import Header from'./Header';import*as geniusAPI from'../utils/geniusApi';import{IconExternalLink}from'@tabler/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddPlaylist(_ref){var handleAddPost=_ref.handleAddPost;var navigate=useNavigate();var _useState=useState({songName:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// let queryString = {q: state.songName}\n// const axios = require(\"axios\")\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),songUrl=_useState6[0],setSongUrl=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),lyricsUrl=_useState8[0],setLyricsUrl=_useState8[1];// const options = {\n//     method: 'GET',\n//     url: 'https://genius.p.rapidapi.com/search',\n//     params: queryString,\n//     headers: {\n//     'X-RapidAPI-Key': '355f8f5ff2msh84cc656855492b7p1b752cjsn934e4aa88371',\n//     'X-RapidAPI-Host': 'genius.p.rapidapi.com'\n//     }\n// };\n// axios.request(options).then(function (response) {\n//     // const songImage = response.data.response.hits[0].result.song_art_image_url;\n//     setSongInfo(response.data.response.hits[0].result)\n//     // console.log(songInfo);\n//     const optionsTwo = {\n//         method: 'GET',\n//         url: `https://genius.p.rapidapi.com/songs/${response.data.response.hits[0].result.id}`,\n//         headers: {\n//         'X-RapidAPI-Key': '355f8f5ff2msh84cc656855492b7p1b752cjsn934e4aa88371',\n//         'X-RapidAPI-Host': 'genius.p.rapidapi.com'\n//         }\n//     }\n//     axios.request(optionsTwo).then(function (response) {\n//         console.log(response, '<----SECOND RESPONSE');\n//     })\n// }).catch(function (error) {\n//     console.error(error);\n// });\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// geniusAPI.getSong(state.songName)\n_context.next=3;return geniusAPI.getSong(state.songName);case 3:response=_context.sent;console.log(response.data,'<--- RESPONSE DATA');setTitle(response.data.fullTitle);setSongUrl(response.data.songImage);setLyricsUrl(response.data.lyricsUrl);case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}var geniusUrl=\"\".concat(lyricsUrl);function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(SimpleGrid,{col:3,children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'5% 40% 0 40%'},children:[/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextInput,{style:{maxWidth:350},label:\"Search Song\",className:\"form-one\",name:\"songName\",value:state.songName,onChange:handleChange,required:true,withAsterisk:true,placeholder:\"Song Title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"button\",onClick:handleSubmit,children:\"Search\"})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:600},children:/*#__PURE__*/_jsx(Image,{radius:\"md\",src:songUrl,caption:title})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{component:\"a\",href:geniusUrl,variant:\"outline\",leftIcon:/*#__PURE__*/_jsx(IconExternalLink,{size:14}),children:\"Lyrics on Genius\"})})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","FileInput","Textarea","TextInput","Button","Modal","Group","SimpleGrid","Text","Image","useNavigate","Header","geniusAPI","IconExternalLink","AddPlaylist","handleAddPost","navigate","songName","state","setState","title","setTitle","songUrl","setSongUrl","lyricsUrl","setLyricsUrl","handleSubmit","e","preventDefault","getSong","response","console","log","data","fullTitle","songImage","geniusUrl","handleChange","target","name","value","margin","maxWidth"],"sources":["/Users/gabrieldeleon/code/GA-Project-4/src/components/Search.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { FileInput, Textarea, TextInput, Button, Modal, Group, SimpleGrid, Text, Image } from '@mantine/core';\nimport { useNavigate } from \"react-router-dom\";\nimport Header from './Header';\nimport * as geniusAPI from '../utils/geniusApi';\nimport { IconExternalLink } from '@tabler/icons';\n\n\nexport default function AddPlaylist({handleAddPost}) {\n\nconst navigate = useNavigate()\n\nconst [state, setState] = useState({\n    songName: '',\n})\n\n// let queryString = {q: state.songName}\n\n// const axios = require(\"axios\")\nconst [title, setTitle] = useState('');\nconst [songUrl, setSongUrl] = useState('');\nconst [lyricsUrl, setLyricsUrl] = useState('');\n// const options = {\n//     method: 'GET',\n//     url: 'https://genius.p.rapidapi.com/search',\n//     params: queryString,\n//     headers: {\n//     'X-RapidAPI-Key': '355f8f5ff2msh84cc656855492b7p1b752cjsn934e4aa88371',\n//     'X-RapidAPI-Host': 'genius.p.rapidapi.com'\n//     }\n// };\n\n// axios.request(options).then(function (response) {\n//     // const songImage = response.data.response.hits[0].result.song_art_image_url;\n//     setSongInfo(response.data.response.hits[0].result)\n//     // console.log(songInfo);\n    \n//     const optionsTwo = {\n//         method: 'GET',\n//         url: `https://genius.p.rapidapi.com/songs/${response.data.response.hits[0].result.id}`,\n//         headers: {\n//         'X-RapidAPI-Key': '355f8f5ff2msh84cc656855492b7p1b752cjsn934e4aa88371',\n//         'X-RapidAPI-Host': 'genius.p.rapidapi.com'\n//         }\n//     }\n    \n//     axios.request(optionsTwo).then(function (response) {\n//         console.log(response, '<----SECOND RESPONSE');\n//     })\n\n    \n// }).catch(function (error) {\n//     console.error(error);\n// });\n\n\n\nasync function handleSubmit(e) {\n    e.preventDefault();\n    // geniusAPI.getSong(state.songName)\n    const response = await geniusAPI.getSong(state.songName);\n    console.log(response.data, '<--- RESPONSE DATA');\n    setTitle(response.data.fullTitle)\n    setSongUrl(response.data.songImage)\n    setLyricsUrl(response.data.lyricsUrl);\n}\n\nconst geniusUrl = `${lyricsUrl}`;\n\n\nfunction handleChange(e) {\n    setState({\n        ...state,\n        [e.target.name]: e.target.value\n    })\n}\n\n    return(\n\n        <>\n        <SimpleGrid col={3}>\n            <Header />\n        <div style={{margin: '5% 40% 0 40%'}}>\n        <form autoComplete=\"off\" onSubmit={handleSubmit}>\n        \n            <TextInput\n                style={{maxWidth: 350}}\n                label=\"Search Song\"\n                className=\"form-one\"\n                name=\"songName\"\n                value={state.songName}\n                onChange={handleChange}\n                required\n                withAsterisk\n                placeholder=\"Song Title\"\n            />\n            \n            <br />\n\n            <div>\n            <Button\n                type=\"submit\"\n                className='button'\n                onClick={handleSubmit}\n            >\n            Search \n            </Button>\n            </div>\n\n            <br />\n\n            </form>\n\n            <div style={{maxWidth: 600}}>    \n            <Image\n                radius=\"md\"\n                src={songUrl}\n                caption={title}\n            />\n            </div>\n\n            <br />\n\n            <div>\n            <Button component=\"a\" href={geniusUrl} variant=\"outline\" leftIcon={<IconExternalLink size={14} />}>\n                Lyrics on Genius\n            </Button>\n            </div>\n\n            </div>\n            </SimpleGrid>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}