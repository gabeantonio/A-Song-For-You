{"ast":null,"code":"function createAriaHider(containerNode) {\n  var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"body > :not(script)\";\n  var rootNodes = Array.from(document.querySelectorAll(selector)).map(function (node) {\n    if (node.contains(containerNode)) {\n      return void 0;\n    }\n\n    var ariaHidden = node.getAttribute(\"aria-hidden\");\n\n    if (ariaHidden === null || ariaHidden === \"false\") {\n      node.setAttribute(\"aria-hidden\", \"true\");\n    }\n\n    return {\n      node: node,\n      ariaHidden: ariaHidden\n    };\n  });\n  return function () {\n    rootNodes.forEach(function (item) {\n      if (!item) {\n        return;\n      }\n\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute(\"aria-hidden\");\n      } else {\n        item.node.setAttribute(\"aria-hidden\", item.ariaHidden);\n      }\n    });\n  };\n}\n\nexport { createAriaHider };","map":{"version":3,"mappings":"AAAO,SAASA,eAAT,CAAyBC,aAAzB,EAA0E;EAAA,IAAlCC,QAAkC,uEAAvB,qBAAuB;EAC/E,IAAMC,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,gBAAT,CAA0BL,QAA1B,CAAX,EAAgDM,GAAhD,CAAoD,UAACC,IAAD,EAAU;IAC9E,IAAIA,IAAI,CAACC,QAAL,CAAcT,aAAd,CAAJ,EAAkC;MAChC,OAAO,KAAK,CAAZ;IACD;;IACD,IAAMU,UAAU,GAAGF,IAAI,CAACG,YAAL,CAAkB,aAAlB,CAAnB;;IACA,IAAID,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,OAA1C,EAAmD;MACjDF,IAAI,CAACI,YAAL,CAAkB,aAAlB,EAAiC,MAAjC;IACD;;IACD,OAAO;MAAEJ,IAAI,EAAJA,IAAF;MAAQE,UAAU,EAAVA;IAAR,CAAP;EACD,CATiB,CAAlB;EAUA,OAAO,YAAM;IACXR,SAAS,CAACW,OAAV,CAAkB,UAACC,IAAD,EAAU;MAC1B,IAAI,CAACA,IAAL,EAAW;QACT;MACD;;MACD,IAAIA,IAAI,CAACJ,UAAL,KAAoB,IAAxB,EAA8B;QAC5BI,IAAI,CAACN,IAAL,CAAUO,eAAV,CAA0B,aAA1B;MACD,CAFD,MAEO;QACLD,IAAI,CAACN,IAAL,CAAUI,YAAV,CAAuB,aAAvB,EAAsCE,IAAI,CAACJ,UAA3C;MACD;IACF,CATD;EAUD,CAXD;AAYF","names":["createAriaHider","containerNode","selector","rootNodes","Array","from","document","querySelectorAll","map","node","contains","ariaHidden","getAttribute","setAttribute","forEach","item","removeAttribute"],"sources":["../../src/use-focus-trap/create-aria-hider.ts"],"sourcesContent":["type Value = {\n  node: HTMLElement;\n  ariaHidden: string;\n};\n\nexport function createAriaHider(\n  containerNode: HTMLElement,\n  selector: string = 'body > :not(script)'\n) {\n  const rootNodes: Value[] = Array.from<HTMLElement>(document.querySelectorAll(selector)).map(\n    (node) => {\n      if (node.contains(containerNode)) {\n        return undefined;\n      }\n\n      const ariaHidden = node.getAttribute('aria-hidden');\n\n      if (ariaHidden === null || ariaHidden === 'false') {\n        node.setAttribute('aria-hidden', 'true');\n      }\n\n      return { node, ariaHidden };\n    }\n  );\n\n  return () => {\n    rootNodes.forEach((item) => {\n      if (!item) {\n        return;\n      }\n\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute('aria-hidden');\n      } else {\n        item.node.setAttribute('aria-hidden', item.ariaHidden);\n      }\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}