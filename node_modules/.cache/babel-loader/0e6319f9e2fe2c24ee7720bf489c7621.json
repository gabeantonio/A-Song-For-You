{"ast":null,"code":"import _slicedToArray from \"/Users/gabrieldeleon/code/GA-Project-4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useEffect } from 'react';\nimport { autoUpdate } from '@floating-ui/react-dom-interactions';\nimport { useDidUpdate } from '@mantine/hooks';\n\nfunction useFloatingAutoUpdate(_ref) {\n  var opened = _ref.opened,\n      floating = _ref.floating,\n      positionDependencies = _ref.positionDependencies;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      delayedUpdate = _useState2[0],\n      setDelayedUpdate = _useState2[1];\n\n  useEffect(function () {\n    if (floating.refs.reference.current && floating.refs.floating.current) {\n      return autoUpdate(floating.refs.reference.current, floating.refs.floating.current, floating.update);\n    }\n\n    return void 0;\n  }, [floating.refs.reference, floating.refs.floating, opened, delayedUpdate]);\n  useDidUpdate(function () {\n    floating.update();\n  }, positionDependencies);\n  useDidUpdate(function () {\n    setDelayedUpdate(function (c) {\n      return c + 1;\n    });\n  }, [opened]);\n}\n\nexport { useFloatingAutoUpdate };","map":{"version":3,"mappings":";;;;;AAGO,SAASA,qBAAT,OAA2E;EAAA,IAA1CC,MAA0C,QAA1CA,MAA0C;EAAA,IAAlCC,QAAkC,QAAlCA,QAAkC;EAAA,IAAxBC,oBAAwB,QAAxBA,oBAAwB;;EAChF,gBAA0CC,QAAQ,CAAC,CAAD,CAAlD;EAAA;EAAA,IAAOC,aAAP;EAAA,IAAsBC,gBAAtB;;EACAC,SAAS,CAAC,YAAM;IACd,IAAIL,QAAQ,CAACM,IAAT,CAAcC,SAAd,CAAwBC,OAAxB,IAAmCR,QAAQ,CAACM,IAAT,CAAcN,QAAd,CAAuBQ,OAA9D,EAAuE;MACrE,OAAOC,UAAU,CAACT,QAAQ,CAACM,IAAT,CAAcC,SAAd,CAAwBC,OAAzB,EAAkCR,QAAQ,CAACM,IAAT,CAAcN,QAAd,CAAuBQ,OAAzD,EAAkER,QAAQ,CAACU,MAA3E,CAAjB;IACD;;IACD,OAAO,KAAK,CAAZ;EACD,CALQ,EAKN,CAACV,QAAQ,CAACM,IAAT,CAAcC,SAAf,EAA0BP,QAAQ,CAACM,IAAT,CAAcN,QAAxC,EAAkDD,MAAlD,EAA0DI,aAA1D,CALM,CAAT;EAMAQ,YAAY,CAAC,YAAM;IACjBX,QAAQ,CAACU,MAAT;EACD,CAFW,EAETT,oBAFS,CAAZ;EAGAU,YAAY,CAAC,YAAM;IACjBP,gBAAgB,CAAC,UAACQ,CAAD;MAAA,OAAOA,CAAC,GAAG,CAAX;IAAA,CAAD,CAAhB;EACD,CAFW,EAET,CAACb,MAAD,CAFS,CAAZ;AAGF","names":["useFloatingAutoUpdate","opened","floating","positionDependencies","useState","delayedUpdate","setDelayedUpdate","useEffect","refs","reference","current","autoUpdate","update","useDidUpdate","c"],"sources":["../../src/Floating/use-floating-auto-update.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { autoUpdate } from '@floating-ui/react-dom-interactions';\nimport { useDidUpdate } from '@mantine/hooks';\n\ninterface Payload {\n  opened: boolean;\n  floating: {\n    update(): void;\n    refs: {\n      floating: React.MutableRefObject<any>;\n      reference: React.MutableRefObject<any>;\n    };\n  };\n  positionDependencies: any[];\n}\n\nexport function useFloatingAutoUpdate({ opened, floating, positionDependencies }: Payload) {\n  const [delayedUpdate, setDelayedUpdate] = useState(0);\n\n  useEffect(() => {\n    if (floating.refs.reference.current && floating.refs.floating.current) {\n      return autoUpdate(\n        floating.refs.reference.current,\n        floating.refs.floating.current,\n        floating.update\n      );\n    }\n\n    return undefined;\n  }, [floating.refs.reference, floating.refs.floating, opened, delayedUpdate]);\n\n  useDidUpdate(() => {\n    floating.update();\n  }, positionDependencies);\n\n  useDidUpdate(() => {\n    setDelayedUpdate((c) => c + 1);\n  }, [opened]);\n}\n"]},"metadata":{},"sourceType":"module"}