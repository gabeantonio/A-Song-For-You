(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{67:function(e,t,r){},68:function(e,t,r){},73:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(22),c=r.n(a),o=(r(67),r(3)),s=r(8),i=r(24),l=(r(68),r(5)),j=r(7),u=r(10),d=r(4);function b(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var h={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:b,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=b();return e?JSON.parse(atob(e.split(".")[1])).user:null}},m="/api/users/";var O={signup:function(e){return fetch(m+"signup",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw console.log(e),new Error(e.err)}))})).then((function(e){var t=e.token;return h.setToken(t)}))},logout:function(){h.removeToken()},login:function(e){return fetch(m+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw console.log(e),new Error(e.err)}))})).then((function(e){var t=e.token;return h.setToken(t)}))},getUser:function(){return h.getUserFromToken()},getProfile:function(e){return fetch(m+e,{headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Error from getProfile request. Please check your server terminal.")}))}},p=r(17),f=r(77),g=r(62),x=r(95),v=r(79),k=r(90),w=r(88),y=r(19),S=r(1),E=Object(f.a)((function(e){return{wrapper:{minHeight:900,backgroundSize:"cover",backgroundImage:"url(https://images.unsplash.com/photo-1601066525716-3cca33c6d4c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)"},form:Object(d.a)({borderRight:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.colors.gray[3]),minHeight:900,maxWidth:450,paddingTop:80},"@media (max-width: ".concat(e.breakpoints.sm,"px)"),{maxWidth:"100%"}),title:{color:"dark"===e.colorScheme?e.white:e.black,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},logo:{color:"dark"===e.colorScheme?e.white:e.black,width:120,display:"block",marginLeft:"auto",marginRight:"auto"}}}));function T(e,t){return e===t}function C(e){var t=E().classes,r=Object(s.m)(),a=Object(n.useState)({message:"",passwordError:!1}),c=Object(o.a)(a,2),i=c[0],b=c[1],h=Object(n.useState)({username:"",email:"",password:"",passwordConf:""}),m=Object(o.a)(h,2),f=m[0],C=m[1];function N(){return(N=Object(u.a)(Object(l.a)().mark((function t(n){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),T(f.password,f.passwordConf)){t.next=3;break}return t.abrupt("return",b({message:"Your passwords must match!",passwordError:!0}));case 3:return b({message:"",passwordError:!1}),t.prev=4,t.next=7,O.signup(Object(j.a)({},f));case 7:e.handleSignUpOrLogin(),r("/"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0.message),b(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function I(e){C(Object(j.a)(Object(j.a)({},f),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(S.jsx)("div",{className:t.wrapper,children:Object(S.jsx)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:Object(S.jsxs)(g.a,{className:t.form,radius:0,p:30,children:[Object(S.jsx)(x.a,{order:2,className:t.title,align:"center",mt:"md",mb:50,children:"Create An Account"}),Object(S.jsx)(v.a,{name:"username",placeholder:"Username",value:f.username,onChange:I,required:!0,label:"Username",size:"md"}),Object(S.jsx)("br",{}),Object(S.jsx)(v.a,{type:"email",name:"email",placeholder:"hello@gmail.com",value:f.email,onChange:I,required:!0,label:"Email Address",size:"md"}),Object(S.jsx)(k.a,{type:"password",name:"password",placeholder:"Password",value:f.password,onChange:I,required:!0,label:"Password",mt:"md",size:"md",error:i.message}),Object(S.jsx)(k.a,{type:"password",name:"passwordConf",placeholder:"Confirm Password",value:f.passwordConf,onChange:I,required:!0,label:"Password Confirmation",mt:"md",size:"md",error:i.message}),Object(S.jsx)(w.a,{type:"submit",fullWidth:!0,mt:"xl",size:"md",children:"Sign Up"}),Object(S.jsxs)(y.a,{align:"center",mt:"md",children:["Already have an account?"," ",Object(S.jsx)(p.b,{to:"/login",children:"Log In"})]})]})})})}r(73);var N=Object(f.a)((function(e){return{wrapper:{minHeight:900,backgroundSize:"cover",backgroundImage:"url(https://images.unsplash.com/photo-1601066525716-3cca33c6d4c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)"},form:Object(d.a)({borderRight:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.colors.gray[3]),minHeight:900,maxWidth:450,paddingTop:80},"@media (max-width: ".concat(e.breakpoints.sm,"px)"),{maxWidth:"100%"}),title:{color:"dark"===e.colorScheme?e.white:e.black,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},logo:{color:"dark"===e.colorScheme?e.white:e.black,width:120,display:"block",marginLeft:"auto",marginRight:"auto"}}}));function I(e){var t=Object(s.m)(),r=N().classes,a=Object(n.useState)(""),c=Object(o.a)(a,2),i=(c[0],c[1]),b=Object(n.useState)({email:"",password:""}),h=Object(o.a)(b,2),m=h[0],f=h[1];function E(){return(E=Object(u.a)(Object(l.a)().mark((function r(n){return Object(l.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,r.next=4,O.login(m);case 4:e.handleSignUpOrLogin(),t("/"),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0.message),i(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))).apply(this,arguments)}function T(e){f(Object(j.a)(Object(j.a)({},m),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(S.jsx)("div",{className:r.wrapper,children:Object(S.jsx)("form",{onSubmit:function(e){return E.apply(this,arguments)},children:Object(S.jsxs)(g.a,{className:r.form,radius:0,p:30,children:[Object(S.jsx)(x.a,{order:2,className:r.title,align:"center",mt:"md",mb:50,children:"Welcome to your App!"}),Object(S.jsx)(v.a,{type:"email",name:"email",placeholder:"hello@gmail.com",value:m.email,onChange:T,label:"Email Address",size:"md"}),Object(S.jsx)(k.a,{type:"password",name:"password",placeholder:"Your password",value:m.password,onChange:T,label:"Password",mt:"md",size:"md"}),Object(S.jsx)(w.a,{type:"submit",fullWidth:!0,mt:"xl",size:"md",children:"Login"}),Object(S.jsxs)(y.a,{align:"center",mt:"md",children:["Don't have an account?"," ",Object(S.jsx)(p.b,{to:"/signup",children:"Register"})]})]})})})}var P=r(11),L=r(87),R=r(84),A=Object(f.a)((function(e){return{header:{backgroundColor:e.fn.variant({variant:"filled",color:e.primaryColor}).background,borderBottom:0},inner:{height:0,display:"flex",justifyContent:"space-between",alignItems:"center"}}}));function D(e){var t=e.loggedInUser,r=e.logout,n=A().classes,a=Object(s.m)();return Object(S.jsx)(L.a,{height:40,className:n.header,children:Object(S.jsxs)("nav",{children:[Object(S.jsx)(w.a,{onClick:r,children:"Logout"}),Object(S.jsx)(w.a,{onClick:function(){var e="/".concat(t.username);a("".concat(e))},children:"Profile"}),Object(S.jsx)(w.a,{onClick:function(){a("/")},children:"Home"}),Object(S.jsxs)(R.a,{shadow:"md",width:200,children:[Object(S.jsx)(R.a.Target,{children:Object(S.jsx)(w.a,{children:"Actions"})}),Object(S.jsxs)(R.a.Dropdown,{children:[Object(S.jsx)(R.a.Label,{children:"Application"}),Object(S.jsx)(R.a.Item,{onClick:function(){a("/search")},children:"Song Search"})]})]})]})})}var F=r(85),U=r(91),z=r(92);function W(e){var t=e.handleAddPost,r=Object(s.m)(),a=Object(n.useState)({playlistName:"",tracklist:""}),c=Object(o.a)(a,2),i=c[0],l=c[1],u=Object(n.useState)(""),b=Object(o.a)(u,2),h=b[0],m=b[1];function O(e){l(Object(j.a)(Object(j.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))}var p=Object(n.useState)(!1),f=Object(o.a)(p,2),g=f[0],x=f[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(F.a,{opened:g,onClose:function(){return x(!1)},size:"55%",centered:!0,title:"Share a Playlist",overlayOpacity:.55,overlayBlur:3,children:Object(S.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var n=new FormData;for(var a in n.append("cover",h),i)n.append(a,i[a]);t(n),r("/")},children:[Object(S.jsx)(v.a,{label:"What is your Playlist called?",className:"form-one",name:"playlistName",value:i.playlistName,onChange:O,required:!0,withAsterisk:!0,placeholder:"Playlist Title"}),Object(S.jsx)("br",{}),Object(S.jsx)(U.a,{placeholder:"Choose File",className:"form-control",name:"playlist-cover",type:"file",onChange:function(e){m(e),console.log(e)},label:"Playlist Cover",required:!0,withAsterisk:!0}),Object(S.jsx)("br",{}),Object(S.jsx)(v.a,{label:"Tracklist",className:"form-two",name:"tracklist",value:i.tracklist,onChange:O,required:!0,withAsterisk:!0,placeholder:"Tracklist"}),Object(S.jsx)("br",{}),Object(S.jsx)(w.a,{type:"submit",className:"button",children:"Post Playlist"})]})}),Object(S.jsx)(z.a,{position:"center",children:Object(S.jsx)(w.a,{onClick:function(){return x(!0)},children:"Share a New Playlist"})})]})}var H=r(93),B=r(86),M=r(47),G=r(25),q=Object(f.a)((function(e){return{card:{height:440,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundSize:"cover",backgroundPosition:"center",margin:"40px 0 0 0"},title:{fontFamily:"Greycliff CF ".concat(e.fontFamily),fontWeight:900,color:e.white,lineHeight:1.2,fontSize:32,marginTop:e.spacing.xs},category:{color:e.white,opacity:.7,fontWeight:700,textTransform:"uppercase"}}}));function V(e){var t=e.post,r=e.addLike,a=e.removeLike,c=e.loggedInUser,s=(e.deletePost,q().classes),i=Object(n.useState)(!1),l=Object(o.a)(i,2),j=l[0],u=l[1],d="/".concat(t.user.username),b=t.likes.length,h=t.likes.findIndex((function(e){return e.username===c.username}));console.log(h,"<----- LIKED INDEX");var m=h>-1?"red":"grey",O=h>-1?function(){return a(t.likes[h]._id)}:function(){return r(t._id)};return console.log(t._id,"<----- POST ID HERE"),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(g.a,{shadow:"md",p:"xl",radius:"xl",sx:{backgroundImage:"url(".concat(t.photoUrl,")")},className:s.card,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(p.b,{to:d,children:Object(S.jsx)(y.a,{className:s.category,size:"xs",children:t.user.username})}),Object(S.jsx)(x.a,{order:3,className:s.title,children:t.playlistName})]}),Object(S.jsxs)(F.a,{opened:j,centered:!0,onClose:function(){return u(!1)},title:t.playlistName,overflow:"inside",children:[t.tracklist,Object(S.jsx)("div",{style:{margin:"0 0 0 65%"},children:Object(S.jsx)(w.a,{color:"red",size:"xs",children:"Delete Playlist"})})]}),Object(S.jsxs)(H.a,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(z.a,{children:Object(S.jsx)(B.a,{label:b,inline:!0,size:15,children:Object(S.jsx)(M.a,{children:Object(S.jsx)(G.b,{size:100,color:m,stroke:1.5,onClick:O})})})})}),Object(S.jsx)("div",{children:Object(S.jsx)(z.a,{children:Object(S.jsx)(w.a,{onClick:function(){return u(!0)},children:"View Tracklist"})})})]})]})})}function _(e){var t=e.posts,r=e.addLike,n=e.removeLike,a=e.loggedInUser,c=e.deletePost;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(H.a,{cols:2,children:t.map((function(e){return Object(S.jsx)(V,{loggedInUser:a,post:e,addLike:r,removeLike:n,deletePost:c},e._id)}))})})}var J="/api/posts";function K(e){return fetch(J,{method:"POST",body:e,headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("CREATE ERROR: Check your server terminal for error.")}))}function Y(e){return fetch("".concat(J,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error(e.error)}))}function X(){return fetch(J,{headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw console.log(e),new Error(e.err)}))}))}var $="/api/";function Q(e){return fetch("".concat($,"posts/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error(e.error)}))}function Z(e){return fetch("".concat($,"likes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error(e.error)}))}var ee=r(52),te=r(96);function re(e){return Object(S.jsx)("span",{className:"error",children:e.error})}function ne(e){var t=e.loggedInUser,r=e.logout,a=Object(n.useState)(""),c=Object(o.a)(a,2),s=c[0],i=c[1],j=Object(n.useState)([]),d=Object(o.a)(j,2),b=d[0],h=d[1],m=Object(n.useState)(!0),O=Object(o.a)(m,2),p=O[0],f=O[1];function g(){return(g=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(t);case 3:r=e.sent,console.log(r,"<--- THE RESPONSE FROM ADD LIKE!"),w(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"<--- THE ERROR FROM THE SERVER!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:r=e.sent,console.log(r,"REMOVED LIKE"),w(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i("Error in removing like!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:r=e.sent,console.log(r,"<---- DELETED POST"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),i("Error in deleting post!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("CREATING POST!"),e.next=4,K(t);case 4:r=e.sent,console.log(r),h([].concat(Object(P.a)(b),[r.data])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,console.log(t,"<--- RESPONSE DATA"),h(Object(P.a)(t.data)),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message,"<--- ERROR in USE EFFECT"),f(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}if(Object(n.useEffect)((function(){w()}),[]),s)return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D,{}),Object(S.jsx)(re,{error:s}),";"]});var E=Object(S.jsx)("svg",{width:"54",height:"54",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:ee.a.colors.blue[6],children:Object(S.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(S.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(S.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(S.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(S.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})});return p?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D,{}),Object(S.jsx)(te.a,{loader:E,visible:!0})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(H.a,{cols:1,verticalSpacing:"50",children:[Object(S.jsx)("div",{children:Object(S.jsx)(D,{loggedInUser:t,logout:r})}),Object(S.jsx)("div",{style:{margin:"0 35% 0 35%",maxWidth:700},children:Object(S.jsx)(W,{handleAddPost:function(e){return k.apply(this,arguments)}})}),Object(S.jsx)("div",{style:{margin:"0 5% 5% 25%",maxWidth:800,minWidth:300},children:Object(S.jsx)(_,{loggedInUser:t,posts:b,addLike:function(e){return g.apply(this,arguments)},removeLike:function(e){return x.apply(this,arguments)},deletePost:function(e){return v.apply(this,arguments)}})})]})})}var ae=Object(f.a)((function(e){return{card:{height:440,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundSize:"cover",backgroundPosition:"center",margin:"40px 0 0 0"},title:{fontFamily:"Greycliff CF ".concat(e.fontFamily),fontWeight:900,color:e.white,lineHeight:1.2,fontSize:32,marginTop:e.spacing.xs},category:{color:e.white,opacity:.7,fontWeight:700,textTransform:"uppercase"}}}));function ce(e){var t=e.post,r=e.loggedInUser,a=e.addLike,c=e.removeLike,s=ae().classes,i=Object(n.useState)(!1),l=Object(o.a)(i,2),j=l[0],u=l[1],d=t.likes.length,b=t.likes.findIndex((function(e){return e.username===r.username}));console.log(b,"<----- LIKED INDEX");var h=b>-1?"red":"grey",m=b>-1?function(){return c(t.likes[b]._id)}:function(){return a(t._id)};return Object(S.jsxs)(g.a,{shadow:"md",p:"xl",radius:"xl",sx:{backgroundImage:"url(".concat(t.photoUrl,")")},className:s.card,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(y.a,{className:s.category,size:"xs",children:t.user.username}),Object(S.jsx)(x.a,{order:3,className:s.title,children:t.playlistName})]}),Object(S.jsx)(F.a,{opened:j,centered:!0,overlayOpacity:.55,overlayBlur:3,onClose:function(){return u(!1)},title:t.playlistName,children:t.tracklist}),Object(S.jsxs)(H.a,{children:[Object(S.jsx)("div",{style:{margin:"0 0 -30% 0"},children:Object(S.jsx)(B.a,{label:d,overflowCount:10,inline:!0,size:15,children:Object(S.jsx)(M.a,{children:Object(S.jsx)(G.b,{size:100,color:h,stroke:1.5,onClick:m})})})}),Object(S.jsx)("div",{children:Object(S.jsx)(z.a,{children:Object(S.jsx)(w.a,{onClick:function(){return u(!0)},children:"View Tracklist"})})})]})]})}function oe(e){var t=e.posts,r=e.loggedInUser,n=e.addLike,a=e.removeLike;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(H.a,{cols:2,children:t.map((function(e){return Object(S.jsx)(ce,{loggedInUser:r,post:e,addLike:n,removeLike:a},e._id)}))})})}function se(e){var t=e.loggedInUser,r=e.logout,a=Object(n.useState)({}),c=Object(o.a)(a,2),i=(c[0],c[1]),j=Object(n.useState)([]),d=Object(o.a)(j,2),b=d[0],h=d[1],m=Object(n.useState)(!0),p=Object(o.a)(m,2),f=p[0],g=p[1],x=Object(n.useState)(""),v=Object(o.a)(x,2),k=v[0],w=v[1],y=Object(s.o)().username;function E(){return(E=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(t);case 3:r=e.sent,console.log(r,"<--- THE RESPONSE FROM ADD LIKE!"),C(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"<--- THE ERROR FROM THE SERVER!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:r=e.sent,console.log(r,"REMOVED LIKE"),C(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),w("Error in removing like!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getProfile(y);case 3:t=e.sent,g(!1),i(t.data.user),h(t.data.posts),console.log(t,"<--- OUR DATA"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),w("Profile does not exist!");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}if(Object(n.useEffect)((function(){C()}),[y]),k)return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D,{}),Object(S.jsx)(re,{error:k})]});var I=Object(S.jsx)("svg",{width:"54",height:"54",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:ee.a.colors.blue[6],children:Object(S.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(S.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(S.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(S.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(S.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})});return f?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D,{}),Object(S.jsx)(te.a,{loader:I,visible:!0})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(H.a,{cols:1,spacing:"50",verticalSpacing:"50",children:[Object(S.jsx)("div",{children:Object(S.jsx)(D,{logout:r})}),Object(S.jsx)("div",{style:{margin:"0 0 5% 25%",maxWidth:700},children:Object(S.jsx)(oe,{loggedInUser:t,posts:b,addLike:function(e){return E.apply(this,arguments)},removeLike:function(e){return T.apply(this,arguments)}})})]})})}var ie=r(94);function le(e){return fetch("/song/"+e,{method:"GET",headers:{Authorization:"Bearer "+h.getToken()}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw console.log(e),new Error(e.err)}))}))}function je(e){e.handleAddPost,Object(s.m)();var t=Object(n.useState)({songName:""}),r=Object(o.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(""),b=Object(o.a)(i,2),h=b[0],m=b[1],O=Object(n.useState)(""),p=Object(o.a)(O,2),f=p[0],g=p[1],x=Object(n.useState)(""),k=Object(o.a)(x,2),y=k[0],E=k[1];function T(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,le(a.songName);case 3:r=e.sent,console.log(r.data,"<--- RESPONSE DATA"),m(r.data.fullTitle),g(r.data.songImage),E(r.data.lyricsUrl);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N="".concat(y);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(H.a,{col:3,children:[Object(S.jsx)(D,{}),Object(S.jsxs)("div",{style:{margin:"5% 40% 0 40%"},children:[Object(S.jsxs)("form",{autoComplete:"off",onSubmit:T,children:[Object(S.jsx)(v.a,{style:{maxWidth:350},label:"Search Song",className:"form-one",name:"songName",value:a.songName,onChange:function(e){c(Object(j.a)(Object(j.a)({},a),{},Object(d.a)({},e.target.name,e.target.value)))},required:!0,withAsterisk:!0,placeholder:"Song Title"}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{children:Object(S.jsx)(w.a,{type:"submit",className:"button",onClick:T,children:"Search"})}),Object(S.jsx)("br",{})]}),Object(S.jsx)("div",{style:{maxWidth:600},children:Object(S.jsx)(ie.a,{radius:"md",src:f,caption:h})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{children:Object(S.jsx)(w.a,{component:"a",href:N,variant:"outline",leftIcon:Object(S.jsx)(G.a,{size:14}),children:"Lyrics on Genius"})})]})]})})}var ue=function(){var e=Object(s.m)(),t=Object(n.useState)(O.getUser()),r=Object(o.a)(t,2),a=r[0],c=r[1];function l(){c(O.getUser())}function j(){O.logout(),c(null),e("/login")}return a?Object(S.jsx)(i.a,{theme:{colorScheme:"dark"},withGlobalStyles:!0,withNormalizeCSS:!0,children:Object(S.jsx)("div",{className:"APP",children:Object(S.jsxs)(s.d,{children:[Object(S.jsx)(s.b,{path:"/",element:Object(S.jsx)(ne,{loggedInUser:a,logout:j})}),Object(S.jsx)(s.b,{path:"/search",element:Object(S.jsx)(je,{})}),Object(S.jsx)(s.b,{path:"/login",element:Object(S.jsx)(I,{handleSignUpOrLogin:l})}),Object(S.jsx)(s.b,{path:"/signup",element:Object(S.jsx)(C,{handleSignUpOrLogin:l})}),Object(S.jsx)(s.b,{path:"/:username",element:Object(S.jsx)(se,{loggedInUser:a,logout:j})})]})})}):Object(S.jsx)(i.a,{theme:{colorScheme:"dark"},withGlobalStyles:!0,withNormalizeCSS:!0,children:Object(S.jsxs)(s.d,{children:[Object(S.jsx)(s.b,{path:"/login",element:Object(S.jsx)(I,{handleSignUpOrLogin:l})}),Object(S.jsx)(s.b,{path:"/signup",element:Object(S.jsx)(C,{handleSignUpOrLogin:l})}),Object(S.jsx)(s.b,{path:"/*",element:Object(S.jsx)(s.a,{to:"/login"})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(S.jsx)(p.a,{children:Object(S.jsx)(ue,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.84091191.chunk.js.map